# SmartExpenseManager - مدير المصروفات الذكي

<div align="center">

![SmartExpenseManager Logo](https://img.shields.io/badge/SmartExpenseManager-AI%20Powered-blue?style=for-the-badge&logo=python)
![Python](https://img.shields.io/badge/Python-3.8+-green?style=for-the-badge&logo=python)
![Flask](https://img.shields.io/badge/Flask-2.3+-red?style=for-the-badge&logo=flask)
![Machine Learning](https://img.shields.io/badge/ML-Scikit--learn-orange?style=for-the-badge&logo=scikit-learn)

**An intelligent personal expense management system with AI-powered financial advisor**
**نظام ذكي لإدارة المصروفات الشخصية مع مستشار مالي مدعوم بالذكاء الاصطناعي**

[Features](#-features) • [Installation](#-installation) • [Usage](#-usage) • [AI Advisor](#-ai-financial-advisor) • [API](#-api) • [Contributing](#-contributing)
[الميزات](#-features) • [التثبيت](#-installation) • [الاستخدام](#-usage) • [المستشار المالي](#-ai-financial-advisor) • [واجهة برمجة التطبيقات](#-api) • [المساهمة](#-contributing)

</div>

---

## 🚀 Overview

SmartExpenseManager is a comprehensive web-based personal finance management application that combines traditional expense tracking with cutting-edge artificial intelligence. Built with Flask and powered by machine learning, it provides intelligent financial insights, personalized advice, and advanced analytics to help users make better financial decisions.

SmartExpenseManager هو تطبيق شامل لإدارة التمويل الشخصي عبر الإنترنت يجمع بين تتبع المصروفات التقليدي والذكاء الاصطناعي المتقدم. تم بناؤه باستخدام Flask ومدعوم بتعلم الآلة، ويوفر رؤى مالية ذكية، ونصائح مخصصة، وتحليلات متقدمة لمساعدة المستخدمين على اتخاذ قرارات مالية أفضل.

### 🌟 Key Highlights

- **🤖 AI-Powered Financial Advisor**: Machine learning-based recommendations
- **📊 Advanced Analytics**: Comprehensive financial reports and visualizations
- **🎯 Goal Tracking**: Set and monitor financial goals with progress tracking
- **💰 Budget Management**: Smart budget allocation and monitoring
- **📱 Responsive Design**: Works seamlessly on all devices
- **🔐 Secure Authentication**: User data protection and privacy
- **🌍 Arabic Interface**: Full Arabic language support

- **🤖 مستشار مالي مدعوم بالذكاء الاصطناعي**: توصيات تعتمد على تعلم الآلة
- **📊 تحليلات متقدمة**: تقارير مالية شاملة وتصويرات
- **🎯 تتبع الأهداف**: تحديد ومراقبة الأهداف المالية مع تتبع التقدم
- **💰 إدارة الميزانية**: تخصيص ومراقبة الميزانية بذكاء
- **📱 تصميم متجاوب**: يعمل بسلاسة على جميع الأجهزة
- **🔐 مصادقة آمنة**: حماية بيانات المستخدم وخصوصيته
- **🌍 واجهة عربية**: دعم كامل للغة العربية

---

## ✨ Features

### 📊 Transaction Management
- **Add/Edit Transactions**: Record income and expenses with detailed categorization
- **Smart Categorization**: 15+ predefined categories (Food, Transport, Shopping, Bills, Rent, Entertainment, Health, Education, Travel, Gifts, Maintenance, etc.)
- **Search & Filter**: Advanced search capabilities by date, category, amount, and description
- **Bulk Operations**: Import/export transaction data
- **Date Tracking**: Precise transaction date recording with modification capabilities

### إدارة المعاملات 📊
- **إضافة/تعديل المعاملات**: تسجيل الدخل والمصروفات مع تصنيف مفصل
- **تصنيف ذكي**: أكثر من 15 فئة محددة مسبقًا (طعام، نقل، تسوق، فواتير، إيجار، ترفيه، صحة، تعليم، سفر، هدايا، صيانة، إلخ.)
- **بحث وتصفية**: قدرات بحث متقدمة حسب التاريخ، الفئة، المبلغ، والوصف
- **عمليات جماعية**: استيراد/تصدير بيانات المعاملات
- **تتبع التاريخ**: تسجيل دقيق لتاريخ المعاملات مع إمكانيات التعديل

### 💰 Budget Management
- **Monthly Budgets**: Create separate budgets for each category
- **Spending Tracking**: Real-time monitoring of spending against budget limits
- **Smart Alerts**: Notifications when approaching or exceeding budget limits
- **Budget Reports**: Interactive charts showing budget status and trends
- **Rollover Options**: Carry forward unused budget amounts

### إدارة الميزانية 💰
- **ميزانيات شهرية**: إنشاء ميزانيات منفصلة لكل فئة
- **تتبع الإنفاق**: مراقبة فورية للإنفاق مقابل حدود الميزانية
- **تنبيهات ذكية**: إشعارات عند الاقتراب أو تجاوز حدود الميزانية
- **تقارير الميزانية**: مخططات تفاعلية توضح حالة الميزانية والاتجاهات
- **خيارات الترحيل**: ترحيل المبالغ غير المستخدمة من الميزانية

### 🎯 Financial Goals
- **Goal Setting**: Create financial goals with target amounts and deadlines
- **Progress Tracking**: Monitor progress towards goal achievement
- **Amount Updates**: Add achieved amounts to goals
- **Goal Management**: Modify and delete goals as needed
- **Visual Progress**: Progress bars and completion percentages

### الأهداف المالية 🎯
- **تحديد الأهداف**: إنشاء أهداف مالية بمبالغ مستهدفة ومواعيد نهائية
- **تتبع التقدم**: مراقبة التقدم نحو تحقيق الأهداف
- **تحديث المبالغ**: إضافة المبالغ المحققة إلى الأهداف
- **إدارة الأهداف**: تعديل وحذف الأهداف حسب الحاجة
- **التقدم المرئي**: أشرطة تقدم ونسب إكمال

### 📈 Reports & Analytics
- **Interactive Dashboard**: Comprehensive financial overview
- **Visual Charts**: Pie charts, line graphs, and bar charts for expenses and income
- **Monthly Reports**: Detailed analysis of spending and income patterns
- **Statistical Insights**: Spending ratios, savings rates, top spending categories
- **Data Export**: Export reports in various formats
- **Trend Analysis**: Historical data analysis and forecasting

### التقارير والتحليلات 📈
- **لوحة معلومات تفاعلية**: نظرة شاملة على الوضع المالي
- **مخططات بصرية**: مخططات دائرية، رسوم بيانية خطية، ومخططات شريطية للمصروفات والدخل
- **تقارير شهرية**: تحليل مفصل لأنماط الإنفاق والدخل
- **رؤى إحصائية**: نسب الإنفاق، معدلات الادخار، أعلى فئات الإنفاق
- **تصدير البيانات**: تصدير التقارير بصيغ مختلفة
- **تحليل الاتجاهات**: تحليل البيانات التاريخية والتنبؤات

### 🤖 AI Financial Advisor
- **Intelligent Analysis**: ML-powered analysis of financial data
- **Personalized Advice**: Custom recommendations based on spending patterns
- **Behavior Prediction**: Predict future financial patterns
- **Advanced Analytics**: Savings rate analysis, spending category insights
- **Machine Learning Model**: Trained on diverse financial datasets
- **Real-time Recommendations**: Instant financial advice

### المستشار المالي المدعوم بالذكاء الاصطناعي 🤖
- **تحليل ذكي**: تحليل مدعوم بتعلم الآلة للبيانات المالية
- **نصائح مخصصة**: توصيات مخصصة بناءً على أنماط الإنفاق
- **توقع السلوك**: توقع الأنماط المالية المستقبلية
- **تحليلات متقدمة**: تحليل معدل الادخار، رؤى فئات الإنفاق
- **نموذج تعلم الآلة**: مدرب على مجموعات بيانات مالية متنوعة
- **توصيات في الوقت الحقيقي**: نصائح مالية فورية

### 💡 Smart Tips System
- **Personalized Tips**: Recommendations based on actual financial data
- **Priority Classification**: High, medium, and low priority tips
- **Application Tracking**: Mark tips as read and applied
- **Auto-generation**: Generate new tips based on analysis
- **AI-powered Tips**: Intelligent recommendations from the AI advisor

### نظام النصائح الذكية 💡
- **نصائح مخصصة**: توصيات تستند إلى البيانات المالية الفعلية
- **تصنيف الأولويات**: نصائح ذات أولوية عالية ومتوسطة ومنخفضة
- **تتبع التطبيق**: وضع علامة على النصائح كمقروءة ومطبقة
- **التوليد التلقائي**: إنشاء نصائح جديدة استنادًا إلى التحليل
- **نصائح مدعومة بالذكاء الاصطناعي**: توصيات ذكية من المستشار المالي المدعوم بالذكاء الاصطناعي

### 🔐 Security & Authentication
- **User Registration**: Secure account creation
- **Login System**: Protected user authentication
- **Password Security**: Encrypted password storage
- **Session Management**: Secure session handling
- **Data Privacy**: User data isolation and protection

### الأمان والمصادقة 🔐
- **تسجيل المستخدم**: إنشاء حساب آمن
- **نظام تسجيل الدخول**: مصادقة مستخدم محمية
- **أمان كلمة المرور**: تخزين كلمات المرور مشفرة
- **إدارة الجلسات**: معالجة جلسات آمنة
- **خصوصية البيانات**: عزل وحماية بيانات المستخدم

### 🎨 User Interface
- **Modern Design**: Beautiful and intuitive user interface
- **Responsive Layout**: Works on all devices (mobile, tablet, desktop)
- **Arabic Support**: Full Arabic language interface
- **Interactive Charts**: Beautiful and informative visualizations
- **Easy Navigation**: Simple navigation between pages

### واجهة المستخدم 🎨
- **تصميم حديث**: واجهة مستخدم جميلة وبديهية
- **تخطيط متجاوب**: يعمل على جميع الأجهزة (الهاتف المحمول، الجهاز اللوحي، سطح المكتب)
- **دعم اللغة العربية**: واجهة كاملة باللغة العربية
- **مخططات تفاعلية**: تصورات جميلة ومفيدة
- **تنقل سهل**: تنقل بسيط بين الصفحات

---

## 🛠️ Technology Stack

### Backend
- **Flask 2.3.3**: Python web framework
- **SQLAlchemy 2.0.41**: ORM for database management
- **Flask-Login 0.6.3**: Authentication and session management
- **Werkzeug 2.3.7**: Password hashing and security utilities

### Artificial Intelligence & Machine Learning
- **Scikit-learn 1.7.0**: Machine learning library
- **Joblib 1.5.1**: Model serialization and loading
- **NumPy 2.3.1**: Numerical computations
- **Decision Tree Classifier**: Classification model for financial advice

### Database
- **SQLite**: Lightweight and fast database
- **SQLAlchemy ORM**: Model management and relationships

### Frontend
- **HTML5/CSS3**: Page structure and styling
- **JavaScript**: Interactivity and chart generation
- **Chart.js**: Interactive data visualizations
- **Bootstrap**: Responsive CSS framework

---

## 📦 Installation

### Prerequisites
- Python 3.8 or higher
- pip (Python package manager)
- Git (for cloning the repository)

### Step-by-Step Installation

1. **Clone the Repository**
   ```bash
   git clone https://github.com/yourusername/SmartExpenseManager.git
   cd SmartExpenseManager
   ```

2. **Create Virtual Environment**
   ```bash
   python -m venv venv
   ```

3. **Activate Virtual Environment**
   ```bash
   # Windows
   venv\Scripts\activate
   
   # macOS/Linux
   source venv/bin/activate
   ```

4. **Install Dependencies**
   ```bash
   pip install -r requirements.txt
   ```

5. **Environment Configuration**
   ```bash
   # Copy example environment file
   cp example.env .env
   
   # Edit the .env file with your configuration
   # Set FLASK_SECRET_KEY and other environment variables
   ```

6. **Train the AI Model**
   ```bash
   python train_model.py
   ```

7. **Initialize Database**
   ```bash
   python create_db.py
   ```

8. **Run the Application**
   ```bash
   python app.py
   ```

9. **Access the Application**
   Open your browser and navigate to `http://localhost:5000`

---

## 🏗️ Project Structure

```
SmartExpenseManager/
├── app.py                 # Main Flask application
├── ai_advisor.py          # AI financial advisor module
├── config.py              # Application configuration
├── create_db.py           # Database initialization
├── train_model.py         # ML model training script
├── test_model.py          # Model testing utilities
├── debug_reports.py       # Debug reporting tools
├── requirements.txt       # Python dependencies
├── example.env            # Environment variables template
├── README.md             # Project documentation
├── .gitignore            # Git ignore rules
├── models/               # Machine learning models
│   ├── advice_model.pkl  # Trained ML model
│   ├── categories.pkl    # Category definitions
│   └── label_encoder.pkl # Label encoder
├── templates/            # HTML templates
│   ├── base.html         # Base template
│   ├── dashboard.html    # Dashboard page
│   ├── transactions.html # Transactions page
│   ├── reports.html      # Reports page
│   ├── goals.html        # Financial goals page
│   ├── tips.html         # Tips page
│   ├── login.html        # Login page
│   ├── register.html     # Registration page
│   └── ...               # Other templates
├── instance/             # Database files
└── venv/                 # Virtual environment
```

---

## 🧠 AI Financial Advisor

### How It Works

The AI Financial Advisor uses machine learning to analyze user financial data and provide personalized recommendations:

1. **Data Collection**: Gathers user transaction data (expenses and income)
2. **Feature Extraction**: Extracts relevant financial features
3. **Pattern Analysis**: Identifies spending patterns and trends
4. **Recommendation Generation**: Uses trained ML model to generate advice
5. **Personalization**: Tailors recommendations to individual user behavior

### Supported Categories

**Expenses:**
- Food & Beverages
- Transportation
- Shopping
- Bills & Utilities
- Rent
- Entertainment
- Health & Medical
- Education
- Travel
- Gifts
- Maintenance
- Others

**Income:**
- Salary
- Freelance Work
- Investments

### Types of Advice

- **Spending Optimization**: Tips to reduce unnecessary expenses
- **Savings Enhancement**: Recommendations to improve savings rate
- **Budget Management**: Advice on budget allocation and monitoring
- **Goal Achievement**: Strategies to reach financial goals
- **AI-Powered Insights**: Intelligent recommendations from ML model

### تدريب النموذج

يتم تدريب النموذج الذكي على مجموعات بيانات مالية متنوعة بخصائص التالية:
- **بيانات التدريب**: أكثر من 50 سيناريو مالي
- **الميزات**: أكثر من 15 فئة إنفاق
- **الخوارزمية**: مصنف شجرة القرار
- **الدقة**: تحسين مستمر من خلال ملاحظات المستخدمين

---

## 📊 Reports & Analytics

### Dashboard Overview
- **Monthly Summary**: Total income, expenses, and savings
- **Visual Charts**: Expense and income distribution
- **Budget Status**: Current budget utilization
- **Goal Progress**: Financial goal achievements

### نظرة عامة على لوحة القيادة
- **ملخص شهري**: إجمالي الدخل والمصروفات والمدخرات
- **مخططات بصرية**: توزيع المصروفات والدخل
- **حالة الميزانية**: استخدام الميزانية الحالي
- **تقدم الأهداف**: إنجازات الأهداف المالية

### Detailed Reports
- **Expense Analysis**: Category-wise spending breakdown
- **Income Tracking**: Source-wise income analysis
- **Savings Rate**: Monthly savings percentage
- **Trend Analysis**: Historical data patterns
- **Budget vs Actual**: Budget performance comparison

### التقارير المفصلة
- **تحليل المصروفات**: تحليل المصروفات حسب الفئة
- **تتبع الدخل**: تحليل الدخل حسب المصدر
- **معدل الادخار**: نسبة المدخرات الشهرية
- **تحليل الاتجاهات**: أنماط البيانات التاريخية
- **الميزانية مقابل الفعلي**: مقارنة أداء الميزانية

### Interactive Visualizations
- **Pie Charts**: Category distribution
- **Line Graphs**: Time-series analysis
- **Bar Charts**: Comparative analysis
- **Progress Bars**: Goal and budget progress

### التصورات التفاعلية
- **مخططات دائرية**: توزيع الفئات
- **رسوم بيانية خطية**: تحليل السلاسل الزمنية
- **مخططات شريطية**: تحليل مقارن
- **أشرطة تقدم**: تقدم الأهداف والميزانية

---

## 🔌 API Documentation

### Authentication Endpoints

#### Register User
```http
POST /register
Content-Type: application/x-www-form-urlencoded

username=user&email=user@example.com&password=password
```

#### Login User
```http
POST /login
Content-Type: application/x-www-form-urlencoded

username=user&password=password
```

### Transaction Endpoints

#### Get All Transactions
```http
GET /transactions
Authorization: Bearer <token>
```

#### Add Transaction
```http
POST /add_transaction
Content-Type: application/x-www-form-urlencoded

amount=100&type=expense&category=Food&description=Lunch
```

#### Update Transaction
```http
POST /transaction/edit/<id>
Content-Type: application/x-www-form-urlencoded

amount=150&category=Food&description=Updated lunch
```

### Analytics Endpoints

#### Get Chart Data
```http
GET /api/chart_data
Authorization: Bearer <token>
```

#### Get Monthly Data
```http
GET /api/monthly_data
Authorization: Bearer <token>
```

#### Get Budget Data
```http
GET /api/budget_data
Authorization: Bearer <token>
```

### AI Advisor Endpoints

#### Get AI Advice
```http
GET /tips/ai_advice
Authorization: Bearer <token>
```

#### Get AI Analysis
```http
GET /tips/ai_analysis
Authorization: Bearer <token>
```

---

## 🔧 Configuration

### Environment Variables

Create a `.env` file in the project root with the following variables:

```env
# Flask Configuration
FLASK_SECRET_KEY=your-secret-key-here
FLASK_DEBUG=True

# Database Configuration
DATABASE_URL=sqlite:///expenses.db

# AI Model Configuration
MODEL_PATH=models/advice_model.pkl
CATEGORIES_PATH=models/categories.pkl
ENCODER_PATH=models/label_encoder.pkl
```

### Database Configuration

The application uses SQLite by default. For production, you can configure other databases:

```python
# PostgreSQL
SQLALCHEMY_DATABASE_URI = 'postgresql://user:password@localhost/dbname'

# MySQL
SQLALCHEMY_DATABASE_URI = 'mysql://user:password@localhost/dbname'
```

---

## 🚀 Deployment

### Local Development
```bash
# Run in development mode
export FLASK_ENV=development
python app.py
```

### Production Deployment

1. **Using Gunicorn**
   ```bash
   pip install gunicorn
   gunicorn -w 4 -b 0.0.0.0:5000 app:app
   ```

2. **Using Docker**
   ```dockerfile
   FROM python:3.9-slim
   WORKDIR /app
   COPY requirements.txt .
   RUN pip install -r requirements.txt
   COPY . .
   EXPOSE 5000
   CMD ["python", "app.py"]
   ```

3. **Environment Setup**
   ```bash
   export FLASK_ENV=production
   export FLASK_SECRET_KEY=your-production-secret-key
   ```

---

## 🧪 Testing

### Running Tests
```bash
# Install test dependencies
pip install pytest

# Run tests
pytest

# Run with coverage
pytest --cov=app
```

### Model Testing
```bash
# Test the AI model
python test_model.py
```

---

## 🤝 Contributing

We welcome contributions! Please see our [Contributing Guidelines](CONTRIBUTING.md) for details.

### How to Contribute

1. **Fork the Repository**
2. **Create a Feature Branch**
   ```bash
   git checkout -b feature/amazing-feature
   ```
3. **Make Your Changes**
4. **Test Your Changes**
5. **Commit Your Changes**
   ```bash
   git commit -m 'Add amazing feature'
   ```
6. **Push to the Branch**
   ```bash
   git push origin feature/amazing-feature
   ```
7. **Open a Pull Request**

### Development Setup

```bash
# Clone your fork
git clone https://github.com/yourusername/SmartExpenseManager.git

# Add upstream remote
git remote add upstream https://github.com/original/SmartExpenseManager.git

# Create development branch
git checkout -b development

# Install development dependencies
pip install -r requirements-dev.txt
```

---

## 📝 License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

---

## 🙏 Acknowledgments

- **Flask Community**: For the excellent web framework
- **Scikit-learn Team**: For the powerful machine learning library
- **Chart.js**: For the beautiful charting library
- **Bootstrap**: For the responsive CSS framework
- **Contributors**: All contributors who helped improve this project

---

## 📞 Support

- **Documentation**: [Wiki](https://github.com/yourusername/SmartExpenseManager/wiki)
- **Issues**: [GitHub Issues](https://github.com/yourusername/SmartExpenseManager/issues)
- **Discussions**: [GitHub Discussions](https://github.com/yourusername/SmartExpenseManager/discussions)
- **Email**: support@smartexpensemanager.com

---

## 🔄 Changelog

See [CHANGELOG.md](CHANGELOG.md) for a detailed history of changes.

---

<div align="center">

**Made with ❤️ by the SmartExpenseManager Team**

[![GitHub stars](https://img.shields.io/github/stars/yourusername/SmartExpenseManager?style=social)](https://github.com/yourusername/SmartExpenseManager/stargazers)
[![GitHub forks](https://img.shields.io/github/forks/yourusername/SmartExpenseManager?style=social)](https://github.com/yourusername/SmartExpenseManager/network)
[![GitHub issues](https://img.shields.io/github/issues/yourusername/SmartExpenseManager)](https://github.com/yourusername/SmartExpenseManager/issues)
[![GitHub license](https://img.shields.io/github/license/yourusername/SmartExpenseManager)](https://github.com/yourusername/SmartExpenseManager/blob/main/LICENSE)

</div>